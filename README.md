# QuickBrowser

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–æ–∫.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç http/https —Å—Å—ã–ª–∫–∏ –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç CLI-–ø–æ–¥–æ–±–Ω—ã–π overlay –¥–ª—è –≤—ã–±–æ—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –í—ã–±–æ—Ä —á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É (1, 2, 3...)
- –ò–∫–æ–Ω–∫–∞ –≤ menu bar —Å –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ background –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–±–µ–∑ –∏–∫–æ–Ω–∫–∏ –≤ Dock)
- –ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

QuickBrowser —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
```
/Applications/QuickBrowser.app
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```
~/.config/quickbrowser
```

–¢–µ–∫—É—â–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã:
```
1=/Applications/Safari.app
2=/Applications/Firefox.app
3=/Applications/Firefox Nightly.app
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫

–ü—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±—É—é —Å—Å—ã–ª–∫—É –≤ Mail, Messages –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:

1. –ü–æ—è–≤–∏—Ç—Å—è —á–µ—Ä–Ω—ã–π overlay –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
2. –ó–µ–ª–µ–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–∫–∞–∂–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:
   ```
   [1] Safari
   [2] Firefox
   [3] Firefox Nightly
   ```
3. –ù–∞–∂–º–∏—Ç–µ –Ω—É–∂–Ω—É—é —Ü–∏—Ñ—Ä—É –¥–ª—è –≤—ã–±–æ—Ä–∞
4. –ò–ª–∏ ESC –¥–ª—è –æ—Ç–º–µ–Ω—ã

### –ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

```bash
open "https://example.com"
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### –í overlay:
- **1-9** - –≤—ã–±—Ä–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä
- **ESC** - –æ—Ç–º–µ–Ω–∞ (–∑–∞–∫—Ä—ã—Ç—å overlay)

#### Menu bar:
–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –≥–ª–æ–±—É—Å–∞ üåê –≤ menu bar (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª):
- **–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ~/.config/quickbrowser –≤ TextEdit
- **–û –ø—Ä–æ–≥—Ä–∞–º–º–µ** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ QuickBrowser
- **–í—ã—Ö–æ–¥** (‚åòQ) - –∑–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/.config/quickbrowser`:

```bash
nano ~/.config/quickbrowser
```

–§–æ—Ä–º–∞—Ç:
```
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å #
1=/Applications/Safari.app
2=/Applications/Firefox.app
3=/Applications/Google Chrome.app
4=/Applications/Brave Browser.app
```

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞: `—á–∏—Å–ª–æ=/–ø–æ–ª–Ω—ã–π/–ø—É—Ç—å/–∫/–±—Ä–∞—É–∑–µ—Ä—É.app`

QuickBrowser –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–º—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏–∑ –ø—É—Ç–∏.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
cd ~/quickbrowser/QuickBrowser
open QuickBrowser.xcodeproj
```

### –°–±–æ—Ä–∫–∞

–í Xcode:
- **Cmd+B** - Build
- **Cmd+R** - Run (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

–ò–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
cd ~/quickbrowser/QuickBrowser
xcodebuild -project QuickBrowser.xcodeproj -scheme QuickBrowser -configuration Debug build
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
cp -r ~/Library/Developer/Xcode/DerivedData/QuickBrowser-*/Build/Products/Debug/QuickBrowser.app /Applications/
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
QuickBrowser/
‚îú‚îÄ‚îÄ App/
‚îÇ   ‚îú‚îÄ‚îÄ main.swift                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ AppDelegate.swift          # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ Info.plist                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (LSUIElement, URL —Å—Ö–µ–º—ã)
‚îÇ   ‚îî‚îÄ‚îÄ QuickBrowser.entitlements  # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ sandbox
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îú‚îÄ‚îÄ BrowserEntry.swift         # –ú–æ–¥–µ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ Config.swift               # –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ Launcher.swift             # –ó–∞–ø—É—Å–∫ –±—Ä–∞—É–∑–µ—Ä–∞ —á–µ—Ä–µ–∑ Process
‚îî‚îÄ‚îÄ UI/
    ‚îú‚îÄ‚îÄ OverlayWindow.swift        # NSPanel —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    ‚îú‚îÄ‚îÄ BrowserListView.swift      # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞
    ‚îî‚îÄ‚îÄ KeyboardHandler.swift      # –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–ª–∞–≤–∏—à
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–Ø–∑—ã–∫**: Swift 5.0
- **Framework**: AppKit (macOS 13.0+)
- **–†–∞–∑–º–µ—Ä –∫–æ–¥–∞**: ~300 —Å—Ç—Ä–æ–∫
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç (—Ç–æ–ª—å–∫–æ Foundation –∏ Cocoa)

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**main.swift** - —è–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:
```swift
let app = NSApplication.shared
let delegate = AppDelegate()
app.delegate = delegate
app.run()
```

**Info.plist**:
- `LSUIElement = true` - background –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `CFBundleURLTypes` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è http/https —Å—Ö–µ–º
- `CFBundleDocumentTypes` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è HTML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**OverlayWindow**:
- `canBecomeKey = true` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `level = .floating` - –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö –æ–∫–æ–Ω
- `styleMask = .borderless` - –±–µ–∑ —Ä–∞–º–∫–∏

## –£–¥–∞–ª–µ–Ω–∏–µ

1. –°–º–µ–Ω–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ System Settings
2. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   rm -rf /Applications/QuickBrowser.app
   rm ~/.config/quickbrowser
   ```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### QuickBrowser –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤

–ü–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ:
```bash
/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -f /Applications/QuickBrowser.app
```

–ó–∞—Ç–µ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ System Settings.

### Overlay –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ QuickBrowser —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```
System Settings ‚Üí Desktop & Dock ‚Üí Default web browser ‚Üí QuickBrowser
```

### –ö–ª–∞–≤–∏—à–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —Å `canBecomeKey = true` –≤ OverlayWindow.

### –û—à–∏–±–∫–∞ "–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ `~/.config/quickbrowser`:
```bash
cat ~/.config/quickbrowser
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
```bash
ls /Applications/Safari.app
ls /Applications/Firefox.app
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–°–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.
